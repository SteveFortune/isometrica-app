
<div class="modal-content">
	<form class="form-horizontal" name="collectionForm" novalidate>
		<resilify-modal-header
			title="Departments"
			can-save="canSave()"
			can-delete="canDelete()"
			on-delete="delete()"
			on-save="save()">
		</resilify-modal-header>
		<div class="modal-body">
			<div class="panel panel-default" ng-repeat="item in collection">
				<div class="panel-heading">
					<div class="form-group" href="#departments-{{ $index }}" data-toggle="collapse">
						<label class="control-label col-sm-3">Name</label>
						<div class="col-sm-9">
							<input name="name{{ $index }}" class="form-control" type="text" ng-model="item.name" required="">
							<div ng-show="collectionForm['name' + $index].$touched && collectionForm['name' + $index].$error.required">
								Please enter a name.
							</div>
						</div>
					</div>
					<div class="collapse" id="departments-{{ $index }}">
						<div class="form-group">
							<label class="control-label col-sm-3">Manager</label>
							<div class="col-sm-9">
								<input class="form-control" type="text" ng-model="item.manager" placeholder="Optional">
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-sm-3">Related to</label>
							<div class="col-sm-9">
								<input class="form-control" type="text" ng-model="item.relatedTo" placeholder="Optional">
							</div>
						</div>
					</div>
				</div>
			</div>
			<resilify-modal-footer
				title="Add another department"
				can-add="canAdd()"
				on-add="addToCollection()">
			</resilify-modal-footer>
		</div>
	</form>
</div>
