<div>

      <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" ng-if="isNew">Add a module</h4>
        <h4 class="modal-title" ng-if="!isNew">Edit module settings</h4>
      </div>
      <div class="modal-body">

        <form name="planForm">

          <div class="form-group" ng-class="{ 'has-error': planForm.title.$dirty && planForm.title.$invalid }">
            <label class="control-label" for="inputTitle">Title *</label>
            <input type="text" id="inputTitle" class="form-control"
              autofocus
              name="title"
              ng-required="true"
              ng-model="plan.title" placeholder="Enter a title" />
          </div>

          <div class="form-group">
            <label class="control-label" for="inputType">Type</label>
            <select class="form-control" id="inputType" ng-model="plan.type">
                <option value=""></option>
                <option value="docwiki">DocumentWiki</option>
                <option value="dashboard">Core System (V6 Design)</option>
            </select>
          </div>

          <!-- template (for DocumentWiki only) -->
          <div class="form-group" ng-show="plan.type == 'docwiki'">
            <label class="control-label" for="inputType">Template</label>
            <select class="form-control" id="inputType" 
              ng-model="plan.templateId"
              ng-options="template.title for template in docTemplates">
                <option value="">- No template- </option>
            </select>
          </div>

          <div class="form-group" ng-class="{ 'has-error': planForm.orgName.$dirty && planForm.orgName.$invalid }">
            <label class="control-label" for="inputOrg">Organisation</label>
            <input type="text" id="inputOrg" class="form-control"
              ng-model="plan.orgName" placeholder="Enter an organisation name" />
          </div>

          <div class="form-group" ng-class="{ 'has-error': planForm.description.$dirty && planForm.description.$invalid }">
            <label class="control-label" for="inputDescription">Description</label>
            <textarea id="inputDescription" class="form-control"
              ng-model="plan.description" placeholder="Enter a description"></textarea>
          </div>

        </form>

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-danger pull-left" ng-click="deletePlan(plan)" ng-if="!isNew">
          <i class="fa fa-times"></i>Delete module
        </button>
        <button type="button" class="btn btn-link" ng-click="cancel()">
          Cancel
        </button>
        <button type="button" ng-click="savePlan(planForm)" class="btn btn-primary">
          <i class="fa fa-check"></i>
          <span ng-if="isNew">Add module</span>
          <span ng-if="!isNew">Update settings</span>
        </button>
      </div>

</div>
